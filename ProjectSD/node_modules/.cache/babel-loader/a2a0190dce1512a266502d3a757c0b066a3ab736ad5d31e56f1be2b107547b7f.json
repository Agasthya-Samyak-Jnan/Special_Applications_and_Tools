{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst Op_1 = require(\"./Op\");\nclass Iterator {\n  constructor(ops) {\n    this.ops = ops;\n    this.index = 0;\n    this.offset = 0;\n  }\n  hasNext() {\n    return this.peekLength() < Infinity;\n  }\n  next(length) {\n    if (!length) {\n      length = Infinity;\n    }\n    const nextOp = this.ops[this.index];\n    if (nextOp) {\n      const offset = this.offset;\n      const opLength = Op_1.default.length(nextOp);\n      if (length >= opLength - offset) {\n        length = opLength - offset;\n        this.index += 1;\n        this.offset = 0;\n      } else {\n        this.offset += length;\n      }\n      if (typeof nextOp.delete === 'number') {\n        return {\n          delete: length\n        };\n      } else {\n        const retOp = {};\n        if (nextOp.attributes) {\n          retOp.attributes = nextOp.attributes;\n        }\n        if (typeof nextOp.retain === 'number') {\n          retOp.retain = length;\n        } else if (typeof nextOp.retain === 'object' && nextOp.retain !== null) {\n          // offset should === 0, length should === 1\n          retOp.retain = nextOp.retain;\n        } else if (typeof nextOp.insert === 'string') {\n          retOp.insert = nextOp.insert.substr(offset, length);\n        } else {\n          // offset should === 0, length should === 1\n          retOp.insert = nextOp.insert;\n        }\n        return retOp;\n      }\n    } else {\n      return {\n        retain: Infinity\n      };\n    }\n  }\n  peek() {\n    return this.ops[this.index];\n  }\n  peekLength() {\n    if (this.ops[this.index]) {\n      // Should never return 0 if our index is being managed correctly\n      return Op_1.default.length(this.ops[this.index]) - this.offset;\n    } else {\n      return Infinity;\n    }\n  }\n  peekType() {\n    const op = this.ops[this.index];\n    if (op) {\n      if (typeof op.delete === 'number') {\n        return 'delete';\n      } else if (typeof op.retain === 'number' || typeof op.retain === 'object' && op.retain !== null) {\n        return 'retain';\n      } else {\n        return 'insert';\n      }\n    }\n    return 'retain';\n  }\n  rest() {\n    if (!this.hasNext()) {\n      return [];\n    } else if (this.offset === 0) {\n      return this.ops.slice(this.index);\n    } else {\n      const offset = this.offset;\n      const index = this.index;\n      const next = this.next();\n      const rest = this.ops.slice(this.index);\n      this.offset = offset;\n      this.index = index;\n      return [next].concat(rest);\n    }\n  }\n}\nexports.default = Iterator;","map":{"version":3,"names":["Op_1","require","Iterator","constructor","ops","index","offset","hasNext","peekLength","Infinity","next","length","nextOp","opLength","default","delete","retOp","attributes","retain","insert","substr","peek","peekType","op","rest","slice","concat","exports"],"sources":["C:\\Users\\Agasthya Samyak Jnan\\ProjectSD\\frontend\\node_modules\\quill-delta\\src\\OpIterator.ts"],"sourcesContent":["import Op from './Op';\n\nexport default class Iterator {\n  ops: Op[];\n  index: number;\n  offset: number;\n\n  constructor(ops: Op[]) {\n    this.ops = ops;\n    this.index = 0;\n    this.offset = 0;\n  }\n\n  hasNext(): boolean {\n    return this.peekLength() < Infinity;\n  }\n\n  next(length?: number): Op {\n    if (!length) {\n      length = Infinity;\n    }\n    const nextOp = this.ops[this.index];\n    if (nextOp) {\n      const offset = this.offset;\n      const opLength = Op.length(nextOp);\n      if (length >= opLength - offset) {\n        length = opLength - offset;\n        this.index += 1;\n        this.offset = 0;\n      } else {\n        this.offset += length;\n      }\n      if (typeof nextOp.delete === 'number') {\n        return { delete: length };\n      } else {\n        const retOp: Op = {};\n        if (nextOp.attributes) {\n          retOp.attributes = nextOp.attributes;\n        }\n        if (typeof nextOp.retain === 'number') {\n          retOp.retain = length;\n        } else if (\n          typeof nextOp.retain === 'object' &&\n          nextOp.retain !== null\n        ) {\n          // offset should === 0, length should === 1\n          retOp.retain = nextOp.retain;\n        } else if (typeof nextOp.insert === 'string') {\n          retOp.insert = nextOp.insert.substr(offset, length);\n        } else {\n          // offset should === 0, length should === 1\n          retOp.insert = nextOp.insert;\n        }\n        return retOp;\n      }\n    } else {\n      return { retain: Infinity };\n    }\n  }\n\n  peek(): Op {\n    return this.ops[this.index];\n  }\n\n  peekLength(): number {\n    if (this.ops[this.index]) {\n      // Should never return 0 if our index is being managed correctly\n      return Op.length(this.ops[this.index]) - this.offset;\n    } else {\n      return Infinity;\n    }\n  }\n\n  peekType(): string {\n    const op = this.ops[this.index];\n    if (op) {\n      if (typeof op.delete === 'number') {\n        return 'delete';\n      } else if (\n        typeof op.retain === 'number' ||\n        (typeof op.retain === 'object' && op.retain !== null)\n      ) {\n        return 'retain';\n      } else {\n        return 'insert';\n      }\n    }\n    return 'retain';\n  }\n\n  rest(): Op[] {\n    if (!this.hasNext()) {\n      return [];\n    } else if (this.offset === 0) {\n      return this.ops.slice(this.index);\n    } else {\n      const offset = this.offset;\n      const index = this.index;\n      const next = this.next();\n      const rest = this.ops.slice(this.index);\n      this.offset = offset;\n      this.index = index;\n      return [next].concat(rest);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}